---
作者: LostAbaddon
created: 2024/05/20 11:12:04
tags:
---

周末正好看了芒果卫视的《魔方新世界》，里面火树老师玩的游戏“夺宝之战”非常让人有兴趣，所以就打算来聊聊这个游戏里面怎么决策是比较好的——当然，对于这种非完全信息游戏，肯定不存在必胜方案。

游戏规则是这样的：

1. 初始状态下，每位玩家有面额为 1 到 10 的金币各一枚，而初始账户里拥有的金币为 0；
2. 双方分别从各自的金币池中选择一枚，同时亮出来；
3. 双方根据场上双方所选的金币，选择一张卡牌，同时打出；
4. 根据卡牌规则来获得金币，计入自己的账户；
5. 10 轮后，双方金币耗尽，谁账户里的金币多谁赢。

而胜负规则为：

- 卡牌有“搬运”、“抢夺”和“埋伏”三种，除了“搬运”有四张，其他两种都只有三张；
- 如果双方同时出“搬运”，则获得各自自己打出的金币；
- 如果双方同时出“抢夺”，则获得对方打出的金币；
- 如果双方同时出“埋伏”，则没有人能获得金币；
- 如果一方出“搬运”一方出“抢夺”，则抢夺方获得搬运方的金币，抢夺方的金币丢弃，搬运方不获得任何金币；
- 如果一方出“搬运”一方出“埋伏”，则搬运方获得自己出的金币，埋伏方的金币丢弃，它不获得任何金币；
- 如果一方出“抢夺”一方出“埋伏”，则埋伏方获得双方所有金币，抢夺方不获得金币。

我们可以根据前面的胜负规则来列出一张表，其中甲方放出的金币面额为 X，乙方放出的金币面额为 Y，表格中每个单元格会有两个数，前一个是甲方收益，后一个是乙方收益。同时，表格中纵向是甲方出牌，横向是乙方出牌。

|     | 搬运   | 抢夺     | 埋伏     |
| --- | :----: | :------: | :------: |
| 搬运  | X, Y | 0, X   | X, 0   |
| 抢夺  | Y, 0 | Y, X   | 0, X+Y |
| 埋伏  | 0, Y | X+Y, 0 | 0, 0   |

下面，如果我们令乙方出搬运的概率为 $P_A$，出抢夺的概率为 $P_B$，出埋伏的概率为 $P_C$，那么我们就可以计算出甲方出不同卡牌时的期望收益：

| 卡牌  |                 期望收益                  |
| --- | :-----------------------------------: |
| 搬运  |     $(P_A - P_B + P_C) X - P_A Y$     |
| 抢夺  | $(P_A + P_B - P_C) Y - (P_B + P_C) X$ |
| 埋伏  |        $P_B X + (P_B - P_A) Y$        |

由于正常情况下你并不可能真的知道对手的出牌概率，所以一个比较常见的选择是假定一类卡牌的出牌概率与该类卡牌的数量占比是相等的。

这样，比如在节目中，第一局周笔畅一方出的金币是 10，而火树出的金币是 5，而出牌概率为 $P_A = 0.4, P_B = P_C = 0.3$，那么我们可以计算出两边各自的期望收益：

| 卡牌  | 周笔畅  | 火树 |
| --- | :---: | :---: |
| 搬运  |  $2$  | $-2$ |
| 抢夺  | $- 4$ | $2.8$ |
| 埋伏  | $2.5$ | $0.2$ |

因此，从这组分析来看，周笔畅方最好的选择是出埋伏，其次是搬运；而火树方最好是选择抢夺（正好中埋伏），其次是埋伏。但事实上，周笔畅方出了最不明智的抢夺，而火树方出了几乎没有收益（但至少不亏）的埋伏，恰好达到了最大收益。

当然，另一种计算出牌概率的方式，是看对方手上还有什么种类的卡牌而不看数量，这样的话计算得到的结果为：

| 卡牌  | 周笔畅 | 火树 |
| --- | :---: | :---: |
| 搬运  | $5 / 3$  | $-5 / 3$
| 抢夺  | $- 5$    | $0$ |
| 埋伏  | $10 / 3$ | $5 / 3$ |

从这种概率选择来看，周笔畅依然是最后选埋伏次优选搬运，而火树则最后是选埋伏——而且甚至可以说这是唯一有正收益的选择。

如果双方都是理性人，那么在第一种概率选择下，周笔畅选埋伏，火树选抢夺，然后我们就会发现火树中了埋伏；而在第二种概率选择下，双方都选择埋伏，然后没人有收益。

但这是在只考虑“一阶策略”的情况下，事实上我们也可以计算出对方的概率，那么此时我们所认为的对方的概率选择在“高阶策略”下是会发生改变的。

比如说，在二阶策略中，从周笔畅的角度来说，她知道火树的最优选择是抢夺次优选择是埋伏，或者最优选择是埋伏，那么就可以通过一阶策略计算出的火树的期望收益来重新计算概率分布，从而重新计算自己的期望收益。对火树来说也是如此。这样我们就有二阶策略的期望收益表：

| 卡牌  |    周笔畅1    |  周笔畅2  |    火树1     |    火树2     |
| --- | :--------: | :----: | :--------: | :--------: |
| 搬运  | $- 26 / 3$ |  $10$  |  $5 / 9$   |  $5 / 3$   |
| 抢夺  | $- 17 / 3$ | $- 15$ | $-35 / 9$  | $-20 / 3$  |
| 埋伏  |    $14$    |  $0$   | $- 40 / 9$ | $- 10 / 3$ |

因此从二阶策略来看，火树方无论在一阶策略中是选择哪种策略模式，在二阶策略中的最后策略都是选择搬运，这是唯一有正预期收益的方案。而对于周笔畅方来说，如果一开始选择第一种概率方案，那么这里就应该选择埋伏；而如果选择第二种概率方案则应该选择搬运。

接下来如果我们看三阶策略的话，周笔畅方的选择不再依赖一开始的概率方案的选择，现在她选择搬运和抢夺的预期收益都是 5。而对于火树方来说，如果一开始选择的概率方案是第一种，那么他现在就应该选择搬运；而如果一开始选择的是第二套概率方案，那么现在选择抢夺就会更好。

也就是说，如果只考虑到一阶策略，周笔畅的最后策略都是埋伏，其次是搬运；考虑到二阶策略，则依赖于概率方案的选择，但依然是要么埋伏要么搬运；而考虑三阶策略后，才会有选择抢夺的可能。而越是高阶的策略，其成立的前提条件都越苛刻，因此最终周笔畅方面选择抢夺是非常不理智的。

同样，对火树来说，一阶策略下埋伏和抢夺都是可选的，依赖于对手的概率方案；而二阶策略和三阶策略种，埋伏都是要被抛弃的。而在节目实际发展种，周笔畅选了抢夺，这个多少有点草率了，毕竟怎么看都不像是两人考虑到三阶策略后做出的选择；而火树恰好选择了埋伏，这多少有点运气成分。

在一般情况下玩游戏的时候，就是要通过前几轮游戏情况，来统计分析对方可能采取的概率方案，以及会选择几阶策略。

